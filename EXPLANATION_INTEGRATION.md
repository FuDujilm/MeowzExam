# è§£æç³»ç»Ÿé›†æˆæŒ‡å—

## ğŸ¯ æ–°åŠŸèƒ½æ¦‚è§ˆ

å·²å®ç°**ä¸‰å±‚è§£æç³»ç»Ÿ**ï¼š
1. **å®˜æ–¹è§£æ**ï¼ˆOFFICIALï¼‰- é¢˜åº“è‡ªå¸¦ï¼Œæœ€é«˜ä¼˜å…ˆçº§
2. **AI è§£æ**ï¼ˆAIï¼‰- ç»“æ„åŒ–å±•ç¤ºï¼Œè‡ªåŠ¨ç”Ÿæˆ
3. **ç”¨æˆ·è§£æ**ï¼ˆUSERï¼‰- ç¤¾åŒºè´¡çŒ®ï¼ŒæŠ•ç¥¨æ’åº

---

## ğŸ“¦ æ–°å¢ç»„ä»¶

| ç»„ä»¶ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| `ExplanationList` | `/components/ExplanationList.tsx` | è§£æåˆ—è¡¨å®¹å™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ |
| `ExplanationCard` | `/components/ExplanationCard.tsx` | å•ä¸ªè§£æå¡ç‰‡ |
| `UserExplanationForm` | `/components/UserExplanationForm.tsx` | ç”¨æˆ·æäº¤è¡¨å• |

---

## ğŸš€ å¿«é€Ÿé›†æˆï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤1ï¼šå¯¼å…¥ç»„ä»¶

```tsx
import { ExplanationList } from '@/components/ExplanationList'
```

### æ­¥éª¤2ï¼šæ·»åŠ çŠ¶æ€

```tsx
const [aiLoading, setAiLoading] = useState(false)

const handleGenerateAI = async () => {
  if (!currentQuestion) return

  setAiLoading(true)
  try {
    const response = await fetch('/api/ai/explain', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        questionId: currentQuestion.id,
        mode: 'structured', // ä½¿ç”¨ç»“æ„åŒ–æ¨¡å¼
      }),
    })

    if (!response.ok) {
      throw new Error('ç”Ÿæˆå¤±è´¥')
    }

    // æˆåŠŸåï¼ŒExplanationListä¼šè‡ªåŠ¨åˆ·æ–°
    alert('AIè§£æç”ŸæˆæˆåŠŸï¼')
  } catch (error: any) {
    alert(error.message || 'ç”ŸæˆAIè§£æå¤±è´¥')
  } finally {
    setAiLoading(false)
  }
}
```

### æ­¥éª¤3ï¼šæ¸²æŸ“ç»„ä»¶

```tsx
{/* æ›¿æ¢æ—§çš„è§£æUI */}
{submitted && currentQuestion && (
  <div className="mt-4">
    <ExplanationList
      questionId={currentQuestion.id}
      onGenerateAI={handleGenerateAI}
      aiLoading={aiLoading}
    />
  </div>
)}
```

---

## ğŸ“ è®¿é—®æ¼”ç¤ºé¡µé¢

```bash
# æµè§ˆå™¨è®¿é—®ï¼š
http://localhost:3001/demo/explanation
```

æ¼”ç¤ºé¡µé¢åŒ…å«ï¼š
- âœ… åŠŸèƒ½è¯´æ˜
- âœ… é›†æˆç¤ºä¾‹ä»£ç 
- âœ… API æ–‡æ¡£
- âœ… æ£€æŸ¥æ¸…å•

---

## ğŸ”§ éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

### 1. `/app/practice/page.tsx` ï¼ˆé¡ºåº/éšæœº/é”™é¢˜/æ”¶è—ç»ƒä¹ ï¼‰

**æ—§ä»£ç ï¼ˆè¡Œ494-604ï¼‰**ï¼š
```tsx
{/* ç­”é¢˜ç»“æœ */}
{submitted && (
  <div className="mt-4 space-y-3">
    {/* æ—§çš„ tab åˆ‡æ¢UI */}
    <div className="inline-flex rounded-md border...">
      <Button variant={activeExplanationTab === 'manual' ? 'default' : 'ghost'}>
        äººå·¥è§£æ
      </Button>
      <Button variant={activeExplanationTab === 'ai' ? 'default' : 'ghost'}>
        AIè§£æ
      </Button>
    </div>
    {/* ... */}
  </div>
)}
```

**æ–°ä»£ç ï¼ˆæ›¿æ¢ï¼‰**ï¼š
```tsx
{/* ç­”é¢˜ç»“æœ */}
{submitted && currentQuestion && (
  <div className="mt-4 space-y-3">
    {/* æ­£ç¡®/é”™è¯¯æç¤ºï¼ˆä¿ç•™ï¼‰ */}
    <div className={`flex items-center gap-2 p-3 rounded-lg ${
      isCorrect ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'
    }`}>
      {isCorrect ? (
        <>
          <CheckCircle2 className="h-5 w-5" />
          <span className="font-medium">å›ç­”æ­£ç¡®!</span>
        </>
      ) : (
        <>
          <XCircle className="h-5 w-5" />
          <span className="font-medium">
            å›ç­”é”™è¯¯! æ­£ç¡®ç­”æ¡ˆ: {correctAnswers.map(id => {
              const option = question.options.find(opt => opt.id === id)
              return option ? `${id}. ${option.text}` : id
            }).join('; ')}
          </span>
        </>
      )}
    </div>

    {/* æ–°çš„è§£æç³»ç»Ÿ */}
    <ExplanationList
      questionId={currentQuestion.id}
      onGenerateAI={handleGenerateAIExplanation}
      aiLoading={aiLoading}
    />

    {/* ç­”é¢˜ç»Ÿè®¡ï¼ˆä¿ç•™ï¼‰ */}
    {userQuestion && (
      <div className="mt-4 flex items-center gap-4 text-sm text-gray-500">
        <span>ç­”å¯¹: {userQuestion.correctCount}æ¬¡</span>
        <span>ç­”é”™: {userQuestion.incorrectCount}æ¬¡</span>
      </div>
    )}
  </div>
)}
```

### 2. `/app/practice/history/page.tsx` ï¼ˆç»ƒä¹ å†å²ï¼‰

åŒæ ·æ›¿æ¢è§£æUIéƒ¨åˆ†ã€‚

### 3. `/app/practice/error-rate/page.tsx` ï¼ˆé”™è¯¯ç‡ç»ƒä¹ ï¼‰

åŒæ ·æ›¿æ¢è§£æUIéƒ¨åˆ†ã€‚

### 4. `/app/exam/page.tsx` ï¼ˆæ¨¡æ‹Ÿè€ƒè¯•ï¼‰

åœ¨é”™é¢˜è¯¦æƒ…ä¸­æ›¿æ¢è§£æUIã€‚

---

## ğŸ¨ UI æ•ˆæœå¯¹æ¯”

### æ—§ç‰ˆï¼ˆTabåˆ‡æ¢ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [äººå·¥è§£æ] [AIè§£æ]               â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ çº¯æ–‡æœ¬å†…å®¹...                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–°ç‰ˆï¼ˆä¸‰å±‚å¡ç‰‡ï¼‰
```
[ç”ŸæˆAIè§£æ] [æˆ‘æ¥è´¡çŒ®è§£æ]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… å®˜æ–¹è§£æ                       â”‚
â”‚ çº¯æ–‡æœ¬å†…å®¹...                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ AIè§£æ          ğŸ‘15 ğŸ‘2 ğŸš©  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ“ ç»“è®ºï¼šæ­£ç¡®ç­”æ¡ˆæ˜¯Bï¼Œå› ä¸º...     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ” é€é¡¹åˆ†æï¼š                     â”‚
â”‚   âœ… B. æ­£ç¡®ç†ç”±...               â”‚
â”‚   âŒ A. é”™è¯¯ç†ç”±...               â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ“š è€ƒç‚¹ï¼š                         â”‚
â”‚   â€¢ å‘å°„åŠŸç‡æ¦‚å¿µ                  â”‚
â”‚   â€¢ è¾å°„åŠŸç‡åŒºåˆ«                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ âš¡ åŠ©è®°ï¼š                         â”‚
â”‚   ğŸ”¤ é¦–å­—æ¯è®°å¿†ï¼šå‘-è¾“            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ ç”¨æˆ·è§£æ by å¼ ä¸‰  ğŸ‘5 ğŸ‘0 ğŸš© â”‚
â”‚ è¿™é“é¢˜æˆ‘çš„ç†è§£æ˜¯...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… æµ‹è¯•æ¸…å•

- [ ] è®¿é—® http://localhost:3001/demo/explanation æŸ¥çœ‹æ¼”ç¤º
- [ ] ä»»æ„ç»ƒä¹ é¡µé¢æäº¤ç­”æ¡ˆåèƒ½çœ‹åˆ° ExplanationList
- [ ] ç‚¹å‡»"ç”ŸæˆAIè§£æ"èƒ½æ­£å¸¸ç”Ÿæˆ
- [ ] ç‚¹å‡»"æˆ‘æ¥è´¡çŒ®è§£æ"èƒ½æäº¤ç”¨æˆ·è§£æ
- [ ] æŠ•ç¥¨åŠŸèƒ½ï¼ˆğŸ‘/ğŸ‘/ğŸš©ï¼‰æ­£å¸¸å·¥ä½œ
- [ ] è§£ææŒ‰ä¼˜å…ˆçº§æ­£ç¡®æ’åºï¼ˆå®˜æ–¹ > AI > ç”¨æˆ·é«˜èµï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ç‚¹å‡»"ç”ŸæˆAIè§£æ"æ²¡ååº”ï¼Ÿ
A: æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼š
```bash
# .env.local
OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
```

### Q: æäº¤ç”¨æˆ·è§£ææ—¶æç¤º"å·²æäº¤è¿‡"ï¼Ÿ
A: æ¯ä¸ªç”¨æˆ·æ¯é“é¢˜åªèƒ½æäº¤ä¸€æ¬¡è§£æï¼ˆé˜²æ­¢åˆ·å±ï¼‰ã€‚

### Q: è§£æä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥æ•°æ®åº“æ˜¯å¦åŒæ­¥ï¼š
```bash
pnpm exec prisma db push
```

### Q: æ—§æ ¼å¼AIè§£æè¿˜æ˜¾ç¤ºå—ï¼Ÿ
A: æ˜¯çš„ï¼Œç³»ç»Ÿå‘åå…¼å®¹ï¼Œæ—§æ ¼å¼ä¼šæ˜¾ç¤ºä¸ºç®€å•æ–‡æœ¬å¡ç‰‡ã€‚

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

1. æŸ¥çœ‹æ¼”ç¤ºé¡µé¢ï¼š`/demo/explanation`
2. æŸ¥çœ‹ç»„ä»¶æºç ï¼š`/components/Explanation*.tsx`
3. æŸ¥çœ‹APIæ–‡æ¡£ï¼šæ¼”ç¤ºé¡µé¢åº•éƒ¨

---

## ğŸ‰ å®Œæˆï¼

é›†æˆå®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ï¼š
- âœ… ç»“æ„åŒ–AIè§£æï¼ˆsummary/options/keyPoints/memoryAidsï¼‰
- âœ… ç”¨æˆ·è´¡çŒ®ç³»ç»Ÿï¼ˆæ¯äººä¸€æ¬¡/ç¤¾åŒºæŠ•ç¥¨ï¼‰
- âœ… è‡ªåŠ¨æ’åºï¼ˆWilson Scoreï¼‰
- âœ… ä¸‰ç§æ¥æºåˆå¹¶æ˜¾ç¤ºï¼ˆå®˜æ–¹+AI+ç”¨æˆ·ï¼‰
