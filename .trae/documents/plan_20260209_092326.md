# Flutter App 功能开发计划 - UI 与 核心功能

我们采用 **Material 3** 设计规范，构建一个现代化、高效的刷题应用,且复用Web端API,一切功能都需要参考已有的webapi,与webserver api保持一致性

## 0.登录界面

应该足够现代化,美观,符合现代设计标准,使用原有提供的OSS登录,移除邮箱登录

## 1. 导航架构 (Navigation Architecture)

### 根布局 (`MainScreen`)

* **顶部导航栏 (AppBar)**:

  * 左侧/中间: 当前页面标题或问候语。

  * 右侧: **用户头像** (CircleAvatar)，点击跳转至 **设置页面**。

* **底部导航栏 (BottomNavigationBar)**:

  * 仅显示图标 (Icon Only)，保持界面简洁。

  * **Tab 1: 主页 (Home)** - 核心数据与快捷入口。

  * **Tab 2: 练题 (Practice)** - 所有练习模式的集合。

  * *(可选) Tab 3: 统计 (Stats)* - 如果数据看板内容过多，可独立出来，目前暂定整合在主页。

## 2. 页面详细设计

### 🏠 Tab 1: 主页 (Home Page)

专注于用户的“当前状态”与“即时反馈”。

* **头部卡片 (Header Card)**:

  * **一键签到按钮**: 醒目位置，点击触发签到动画。

  * **打卡天数**: 显示连续/累计打卡天数。

* **数据看板 (Dashboard)**:

  * **学习进度**: 环形进度条或线性进度条 (当前题库完成度)。

  * **学习统计**: 今日刷题数、正确率趋势图 (使用 `fl_chart`)。

  * **快捷入口**: “每日打卡训练” (直接开始一组推荐题目)。

* **其他入口**:

  * **排行榜**: 点击进入详细排行榜页面。

  * **每日打卡日历**: 点击弹窗或跳转日历视图。

### 📝 Tab 2: 练题模式 (Practice Page)

采用列表或网格布局，清晰展示所有功能入口。

* **核心练习**:

  * 顺序练习 (Sequential)

  * 随机练习 (Random)

  * 模拟考试 (Mock Exam) - *从“其他功能”归纳至此*

* **专项强化**:

  * 错误率练习 (高频错题)

  * 错题回顾 (我的错题本)

  * 每日练习 (每日推荐)

* **辅助功能**:

  * 收藏题目 (Favorites)

  * 已练回顾 (History)

  * 题库速览 (Browse All) - *从“其他功能”归纳至此*

  * 题库设置 (Switch Library) - *可放在页面顶部或作为列表第一项*

### ⚙️ 设置页面 (Settings Page)

通过点击顶部头像进入。

* **个人信息**:

  * 头像 (支持上传/修改)

  * 邮箱 (只读，灰色显示)

  * **电台呼号** (TextField，支持修改)

* **学习偏好 (Study Preferences)**:

  * **错题权重增强**: Switch 开关 (开启后随机练习更大概率出现错题)。

  * **每日题量设置**: Slider 滑块或输入框 (例如 10-100 题)。

* **AI 助手**:

  * **风格设置**: 下拉选择 (例如：严谨、幽默、鼓励型)。

* **系统**:

  * 主题切换 (跟随系统/亮色/暗色)

  * 退出登录

## 3. 技术实现路径

1. **重构目录结构**: 建立 `pages/home`, `pages/practice`, `pages/profile` 等文件夹。
2. **基础导航**: 实现 `MainScreen` 和路由跳转。
3. **UI 组件化**: 封装 `StatCard` (统计卡片), `PracticeModeTile` (练习模式入口) 等通用组件。
4. **状态管理**: 使用 `Provider` 扩展 `UserProvider` 以包含设置项状态。

***

**确认事项**:
您是否同意将 **“题库设置”、“题库速览”、“模拟考试”** 整合进 **Tab 2 (练题模式)** 页面中？这样逻辑更紧凑。
如果确认无误，我将开始从 **导航栏框架** 和 **主页 UI** 开始编写代码。

**USER**:同意
